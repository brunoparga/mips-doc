<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>

<!-- Mirrored from www.doc.ic.ac.uk/lab/secondyear/spim/node2.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2023 16:52:28 GMT -->
<HEAD>
<TITLE>Simulation of a Virtual Machine</TITLE>
<META NAME="description" CONTENT="Simulation of a Virtual Machine">
<META NAME="keywords" CONTENT="spim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="spim.css">

<LINK REL="next" HREF="node3.html">
<LINK REL="previous" HREF="node1.html">
<LINK REL="up" HREF="node1.html">
<LINK REL="next" HREF="node3.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html68"
  HREF="node3.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="../../../usr/share/latex2html/icons/next.html"></A> 
<A NAME="tex2html66"
  HREF="node1.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="../../../usr/share/latex2html/icons/up.html"></A> 
<A NAME="tex2html60"
  HREF="node1.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="../../../usr/share/latex2html/icons/prev.html"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html69"
  HREF="node3.html">SPIM Interface</A>
<B> Up:</B> <A NAME="tex2html67"
  HREF="node1.html">SPIM</A>
<B> Previous:</B> <A NAME="tex2html61"
  HREF="node1.html">SPIM</A>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00011000000000000000">
Simulation of a Virtual Machine</A>
</H2>

<P>
The MIPS architecture, like that of most RISC computers, is difficult
to program directly because of its delayed branches, delayed loads,
and restricted address modes.  This difficulty is tolerable since
these computers were designed to be programmed in high-level languages
and so present an interface designed for compilers, not programmers.
A good part of the complexity results from delayed instructions.  A
<EM>delayed branch</EM> takes two cycles to execute.  In the second
cycle, the instruction immediately following the branch executes.
This instruction can perform useful work that normally would have been
done before the branch or it can be a <TT>nop</TT> (no operation).
Similarly, <EM>delayed loads</EM> take two cycles so the instruction
immediately following a load cannot use the value loaded from memory.

<P>
MIPS wisely choose to hide this complexity by implementing a <EM>virtual machine</EM> with their assembler.  This virtual computer
appears to have non-delayed branches and loads and a richer
instruction set than the actual hardware.  The assembler <EM>reorganizes</EM> (rearranges) instructions to fill the delay slots.  It
also simulates the additional, <EM>pseudoinstructions</EM> by
generating short sequences of actual instructions.

<P>
By default, SPIM simulates the richer, virtual machine.  It can also
simulate the actual hardware.  We will describe the virtual machine
and only mention in passing features that do not belong to the actual
hardware.  In doing so, we are following the convention of MIPS
assembly language programmers (and compilers), who routinely take
advantage of the extended machine.  Instructions marked with a dagger
(<SPAN CLASS="MATH"><IMG
 WIDTH="12" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img2.png"
 ALT="$\dagger$"></SPAN>) are pseudoinstructions.

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html68"
  HREF="node3.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="../../../usr/share/latex2html/icons/next.html"></A> 
<A NAME="tex2html66"
  HREF="node1.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="../../../usr/share/latex2html/icons/up.html"></A> 
<A NAME="tex2html60"
  HREF="node1.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="../../../usr/share/latex2html/icons/prev.html"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html69"
  HREF="node3.html">SPIM Interface</A>
<B> Up:</B> <A NAME="tex2html67"
  HREF="node1.html">SPIM</A>
<B> Previous:</B> <A NAME="tex2html61"
  HREF="node1.html">SPIM</A></DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Ian Moor
2009-03-11
</ADDRESS>
</BODY>

<!-- Mirrored from www.doc.ic.ac.uk/lab/secondyear/spim/node2.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Jul 2023 16:52:29 GMT -->
</HTML>
