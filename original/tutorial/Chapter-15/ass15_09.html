<!doctype html> 
<html lang="en">

<!-- LessonMaker.java, version June 3, 2018 on Sun Mar 05 19:29:50 EST 2023 -->


<!-- Mirrored from chortle.ccsu.edu/assemblytutorial/Chapter-15/ass15_09.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jul 2023 11:05:40 GMT -->
<head>
<meta charset="utf-8">
<meta name="author" content="Bradley Kjell kjell at ieee dot org">
<!-- <meta name="copyright" content="2021"> -->
<meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Setting up the Base Register</title>
<link rel="stylesheet" href="../AssemblyStyleRev3.css">
<script src="../CAIscripts.js"></script>
</head>

<body>


<!-- TOP NAVIGATION DIVISION -->
<div class="topnavigation">
<a href="ass15_08.html"><img src="../backIcon.gif" alt="go to previous page"></a> &nbsp; 
<a href="../index-2.html#part4"><img src="../homeIcon.gif" alt="go to home page"></a> &nbsp;
<a href="ass15_10.html"><img src="../nextIcon.gif" alt="go to next page"></a>
<a><img src='../audioIcon.gif' alt='hear noise' onclick='doAudio()'></a>
<audio id='player' src='../../external.html?link=https://chortle.ccsu.edu/assemblytutorial/Audio/chap15-12.mp3'></audio>
<a><img src='../highLightIcon.gif' alt='highlighting' onclick='doHighlight()' style="display: block;float:right"></a>
</div>

<!-- ANSWER DIVISION -->
<div class="answer">

<h3>Answer:</h3>

<pre>sw $12 , 0xFFF8($13)    or    sw $12 , -8($13)</pre>

<p>
The second answer is the preferred version in assembly language source.
It assembles into the same machine instruction as the first version.
</p>
<br class="clearfloats"> 
</div>

<!-- LESSON DIVISION -->
<div class="lesson">
<h1>Setting up the Base Register</h1>
<!-- ../Audio/chap15-12.mp3 -->

<div class="middle">
<img src="lwProblem.gif"  alt="Part of Memory" width="250" height="285" title="contents of memory" />
</div>

<br style="clear:both">
<div class="middle">
<p>
The
 first instruction of the answer expresses minus eight using
16-bit two's complement.
This is the bit pattern that is actually contained in the
machine instruction.
This is awkward to read and to calculate.
The second instruction uses signed decimal notation to specify
minus eight.
The assembler translates this assembler 
instruction into exactly the
same machine instruction as the first assembler instruction.
</p>

<a id="lui"> </a>

<p>
<span class="highlight">
By using a 32-bit
base register and an offset a 32-bit 
<code>lw</code> or 
<code>sw</code> instruction
can reference all of memory. </span>
</p>
 
<p>
But how does the base address get into the base register?
This is where the <code>lui</code>
(<b>l</b>oad <b>u</b>pper <b>i</b>mmediate) instruction is useful.
<span class="highlight"><code>lui</code> copies its 16-bit immediate operand
to the <em>upper two bytes</em> (16 bits) of the designated register.</span>
</p>
</div>


<pre class="code" style="border: 2px dotted green; padding:10px; background-color:white">

lui  d,const  # upper two bytes of $d <span style="font-size: 40px;">&larr;</span> two byte const 
              # lower two bytes of $d <span style="font-size: 40px;">&larr;</span> 0x0000
</pre>

<div class="middle"> 
<p>
Sometimes this is all that you need.
For example,
say that
memory is as in the picture,
and that you want to load the word
at 0x00040010 into <code class="register">$12</code>.
The <code>lui</code>
instruction can set up the base register.
</p>

</div>

<br class="clearfloats"> 
</div> <!-- end LESSON -->

<!-- QUESTION DIVISION -->
<div class="question">
<h3> QUESTION 9:</h3>

<form>
<pre>
lui $13, 0x<input type="text" name="I1" size="12" />

lw  $12, 0x10($13)
</pre>
</form>

<p>
Complete the <code>lui</code> instruction so that the base register 
contains the address <code>0x00040000</code>.
</p>
<br class="clearfloats"> 
</div> <!-- end QUESTION -->

<!-- BOTTOM NAVIGATION DIVISION -->
<div class="bottomnavigation">
<a href="ass15_08.html"><img src="../backIcon.gif" alt="go to previous page"></a> &nbsp; 
<a href="../index-2.html#part4"><img src="../homeIcon.gif" alt="go to home page"></a> &nbsp;
<a href="ass15_10.html"><img src="../nextIcon.gif" alt="go to next page"></a>
</div>

</body>

<!-- Mirrored from chortle.ccsu.edu/assemblytutorial/Chapter-15/ass15_09.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jul 2023 11:05:41 GMT -->
</html>
