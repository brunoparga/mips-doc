<!doctype html> 
<html lang="en">

<!-- LessonMaker.java, version June 3, 2018 on Fri Nov 26 19:54:45 EST 2021 -->


<!-- Mirrored from chortle.ccsu.edu/assemblytutorial/Chapter-27/ass27_04.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jul 2023 11:01:52 GMT -->
<head>
<meta charset="utf-8">
<meta name="author" content="Bradley Kjell kjell at ieee dot org">
<!-- <meta name="copyright" content="2021"> -->
<meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Register Problem</title>
<link rel="stylesheet" href="../AssemblyStyleRev3.css">
<script src="../CAIscripts.js"></script>
</head>

<body>


<!-- TOP NAVIGATION DIVISION -->
<div class="topnavigation">
<a href="ass27_03.html"><img src="../backIcon.gif" alt="go to previous page"></a> &nbsp; 
<a href="../index-2.html#part7"><img src="../homeIcon.gif" alt="go to home page"></a> &nbsp;
<a href="ass27_05.html"><img src="../nextIcon.gif" alt="go to next page"></a>
<a><img src='../audioIcon.gif' alt='hear noise' onclick='doAudio()'></a>
<audio id='player' src='../../external.html?link=https://chortle.ccsu.edu/assemblytutorial/Audio/chap27-06.mp3'></audio>
<a><img src='../highLightIcon.gif' alt='highlighting' onclick='doHighlight()' style="display: block;float:right"></a>
</div>

<!-- ANSWER DIVISION -->
<div class="answer">

<h3>Answer:</h3>
<p>
Sure. And that new subroutine can call another one and so on.
</p>
 
<br class="clearfloats"> 
</div>

<!-- LESSON DIVISION -->
<div class="lesson">
<h1>Register Problem</h1>
<!-- ../Audio/chap27-06.mp3 -->

<div class="left">

<p>
<span class="highlight">A subroutine always has its return address available,
either in <code class="register">$ra</code> or on the top of the stack.</span>
</p>

<p>
When a subroutine calls another subroutine,
control will return to the caller a few instructions after the call.
Subroutines always return to their caller.
Subroutines are "last called, first return."
This is  implemented using the runtime stack,
which is "last in, first out."
</p>

<p>
<span class="highlight">In
the Simple Linkage convention of the previous chapter,
registers <code class="register">$s0&#8213;$s7</code> must not be altered by a subroutine.
But this restriction creates a problem when subroutines call other subroutines.</span>
</p>
</div>

<div class="right">
<p>
Say that <code>main</code> calls <code>subA</code> and
that <code>subA</code> calls  <code>subB</code>.
<code>subA</code> can't save any values in <code class="register">$s0&#8213;$s7</code> 
(because it is not allowed to alter them).
But values it saves in  <code class="register">$t0&#8213;$t9</code> might be
altered by  <code>subB</code> (because  <code>subB</code> is allowed to use these registers).
It seems that
<code>subA</code> can't use any registers!
Not good. 
</p>

<p>
<span class="highlight">
The solution is to allow <code>subA</code> to use 
<code class="register">$s0&#8213;$s7</code>.
However, before using one of these registers,
<code>subA</code> must save its value on the stack.
Later, when
<code>subA</code>
returns to its caller,
it must restore the register to its initial state.</span> 
</p>
</div>

<br class="clearfloats"> 
</div> <!-- end LESSON -->

<!-- QUESTION DIVISION -->
<div class="question">
<h3> QUESTION 4:</h3>
<p>
Is it safe to store 
<code class="register">$s0&#8213;$s7</code>
<u>and</u> <code class="register">$ra</code> on the stack?
</p>
<br class="clearfloats"> 
</div> <!-- end QUESTION -->

<!-- BOTTOM NAVIGATION DIVISION -->
<div class="bottomnavigation">
<a href="ass27_03.html"><img src="../backIcon.gif" alt="go to previous page"></a> &nbsp; 
<a href="../index-2.html#part7"><img src="../homeIcon.gif" alt="go to home page"></a> &nbsp;
<a href="ass27_05.html"><img src="../nextIcon.gif" alt="go to next page"></a>
</div>

</body>

<!-- Mirrored from chortle.ccsu.edu/assemblytutorial/Chapter-27/ass27_04.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jul 2023 11:01:53 GMT -->
</html>
